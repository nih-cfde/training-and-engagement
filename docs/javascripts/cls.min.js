"use strict";$(function(){function t(){this.removeEventListener("touchmove",e),this.removeEventListener("touchend",t),o=!1}function e(e){if($.detectSwipe.preventDefault&&e.preventDefault(),o){var i,n=e.touches[0].pageX,a=e.touches[0].pageY,c=r-n,h=s-a;Math.abs(c)>=$.detectSwipe.threshold?i=c>0?"left":"right":Math.abs(h)>=$.detectSwipe.threshold&&(i=h>0?"down":"up"),i&&(t.call(this),$(this).trigger("swipe",i).trigger("swipe"+i))}}function i(i){1==i.touches.length&&(r=i.touches[0].pageX,s=i.touches[0].pageY,o=!0,this.addEventListener("touchmove",e,!1),this.addEventListener("touchend",t,!1))}function n(){this.addEventListener&&this.addEventListener("touchstart",i,!1)}function a(t){function e(t){return $.expr.filters.visible(t)&&!$(t).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var i,n,a,r=t.nodeName.toLowerCase(),s=!isNaN($.attr(t,"tabindex"));return"area"===r?(i=t.parentNode,n=i.name,t.href&&n&&"map"===i.nodeName.toLowerCase()?(a=$("img[usemap=#"+n+"]")[0],!!a&&e(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&e(t)}$.detectSwipe={version:"2.1.1",enabled:"ontouchstart"in document.documentElement,preventDefault:!0,threshold:20};var r,s,o=!1;$.event.special.swipe={setup:n},$.each(["left","up","down","right"],function(){$.event.special["swipe"+this]={setup:function(){$(this).on("swipe",$.noop)}}}),$.extend($.expr[":"],{focusable:function(t){return a(t)}});var c=[],h=[],f=[],g=[],l=[],d=[],u=[],p=[],m=[],w=[],L=[],v=[],b=[],x=[],k=[],y=[],E=[],I=[],N=[],D=[],S=[],C=[],R=[],T=[],Y=[],J=[],M=[],O=[],X=[],j=[],z=[],A=[],B=[],q=[];$(".carousel-slider").each(function(t,e){function i(){b[t]===!0&&(O[t]=setInterval(function(){X[t]=!0,h[t].animate({marginLeft:"-="+N[t]+"%"},x[t]/2).delay(x[t]/5).animate({marginLeft:"-="+D[t]+"%"},x[t],function(){M[t]++,q[t](),M[t]<1?(M[t]=S[t],q[t](),h[t].css({marginLeft:"-"+J[t]+"%"})):M[t]>S[t]&&(M[t]=1,q[t](),h[t].css({marginLeft:"-"+Y[t]+"%"})),X[t]=!1})},k[t]))}function n(){clearInterval(O[t])}q[t]=function(){var e=$(f[t][M[t]+1]),i=f[t].find(":focusable"),n=e.find(":focusable");$(i).attr("tabIndex","-1"),$(n).attr("tabIndex","0")},c[t]=$(this),h[t]=c[t].children(".inner"),f[t]=h[t].children(".slide"),g[t]=f[t].children(".content"),l[t]=c[t].children(".arrow"),d[t]=c[t].children(".arrow.left"),u[t]=c[t].children(".arrow.right"),w[t]=c[t].children(".play"),m[t]=c[t].children(".pause"),L[t]=c[t].attr("data-width"),v[t]=c[t].attr("data-height"),c[t].attr("data-autoplay")?b[t]=JSON.parse(c[t].attr("data-autoplay")):b[t]=!0,c[t].attr("data-speed")?x[t]=parseInt(c[t].attr("data-speed")):x[t]=1e3,c[t].attr("data-time")?k[t]=parseInt(c[t].attr("data-time")):k[t]=7e3,c[t].attr("data-overflow")?y[t]=c[t].attr("data-overflow"):y[t]="auto",c[t].attr("data-swipe")?E[t]=JSON.parse(c[t].attr("data-swipe")):E[t]=!0,c[t].css({width:L[t],height:v[t],position:"relative",overflow:"hidden"}),c[t].attr("tabindex","0"),S[t]=f[t].length,R[t]=S[t]-1,C[t]=S[t]+4,T[t]=100*C[t],I[t]=100/C[t],Y[t]=200,J[t]=100*(S[t]+1),M[t]=1,h[t].css({margin:"0",marginLeft:"-"+Y[t]+"%",display:"block",height:"100%",padding:"0",width:T[t]+"%"}),f[t].css({width:I[t]+"%",height:"100%",overflowY:y[t],"float":"left"}),f[t].width()<=200?(N[t]=20,p[t]=20):f[t].width()<=400?(N[t]=12,p[t]=35):f[t].width()>=1e3?(N[t]=4,p[t]=50):f[t].width()>=2e3?(N[t]=3,p[t]=55):f[t].width()>=3e3?(N[t]=2,p[t]=65):f[t].width()>=4e3?(N[t]=1,p[t]=65):f[t].width()>=5e3?(N[t]=.5,p[t]=70):(N[t]=5,p[t]=45),D[t]=100-N[t],l[t].css({width:p[t]+"px",height:"100%",position:"absolute",top:"0",zIndex:"5",cursor:"pointer",textAlign:"center"}),d[t].css({left:"0"}),u[t].css({right:"0"}),w[t].css({position:"absolute",right:p[t]+10+"px",bottom:0,cursor:"pointer"}),m[t].css({position:"absolute",right:p[t]+10+"px",bottom:0,cursor:"pointer"}),g[t].css({padding:"10px "+(p[t]+10)+"px"});var a;f[t].each(function(e,i){e++,1===e?$(this).clone().appendTo(h[t]):2===e&&$(this).clone().appendTo(h[t]),e===R[t]?a=$(this):e===S[t]&&($(this).clone().prependTo(h[t]),a.clone().prependTo(h[t]))}),f[t]=h[t].children(".slide"),X[t]=!1,j[t]=!1,z[t]=!1,d[t].on("mouseenter",function(){X[t]===!1&&j[t]===!1&&(j[t]=!0,n(),h[t].stop(!0,!0).animate({marginLeft:"+="+N[t]+"%"},x[t]/4))}).on("mouseleave",function(){z[t]=!0,X[t]===!1&&j[t]===!0&&(i(),h[t].stop(!0,!0).animate({marginLeft:"-="+N[t]+"%"},x[t]/4),j[t]=!1,z[t]=!1)}).on("click",function(){X[t]===!1&&j[t]===!0&&(X[t]=!0,h[t].animate({marginLeft:"+=100%"},x[t],function(){M[t]--,q[t](),M[t]<1&&(M[t]=S[t],q[t](),h[t].css({marginLeft:"-"+(J[t]-N[t])+"%"})),z[t]&&(i(),h[t].animate({marginLeft:"-="+N[t]+"%"},x[t]/4),z[t]=!1,j[t]=!1),X[t]=!1}),c[t].trigger("cls-clickLeft").trigger("cls-left"))}).on({touchstart:function(){j[t]=!0,X[t]===!1&&j[t]===!0&&(n(),X[t]=!0,h[t].animate({marginLeft:"+=100%"},x[t],function(){M[t]--,q[t](),M[t]<1&&(M[t]=S[t],q[t](),h[t].css({marginLeft:"-"+J[t]+"%"})),i(),z[t]=!1,j[t]=!1,X[t]=!1}),c[t].trigger("cls-touchLeft").trigger("cls-left"))}}),A[t]=!1,B[t]=!1,u[t].on("mouseenter",function(){X[t]===!1&&A[t]===!1&&(A[t]=!0,n(),h[t].stop(!0,!0).animate({marginLeft:"-="+N[t]+"%"},x[t]/4))}).on("mouseleave",function(){B[t]=!0,X[t]===!1&&A[t]===!0&&(i(),h[t].stop(!0,!0).animate({marginLeft:"+="+N[t]+"%"},x[t]/4),A[t]=!1,B[t]=!1)}).on("click",function(){X[t]===!1&&A[t]===!0&&(X[t]=!0,h[t].animate({marginLeft:"-=100%"},x[t],function(){M[t]++,q[t](),M[t]>S[t]&&(M[t]=1,q[t](),h[t].css({marginLeft:"-"+(Y[t]+N[t])+"%"})),B[t]&&(i(),h[t].animate({marginLeft:"+="+N[t]+"%"},x[t]/4),B[t]=!1,A[t]=!1),X[t]=!1}),c[t].trigger("cls-clickRight").trigger("cls-right"))}).on({touchstart:function(){A[t]=!0,X[t]===!1&&A[t]===!0&&(n(),X[t]=!0,h[t].animate({marginLeft:"-=100%"},x[t],function(){M[t]++,q[t](),M[t]>S[t]&&(M[t]=1,q[t](),h[t].css({marginLeft:"-"+Y[t]+"%"})),i(),B[t]=!1,A[t]=!1,X[t]=!1}),c[t].trigger("cls-touchRight").trigger("cls-right"))}}),f[t].on("swiperight",function(e){X[t]===!1&&E[t]===!0&&(n(),X[t]=!0,h[t].animate({marginLeft:"+=100%"},x[t],function(){M[t]--,q[t](),M[t]<1&&(M[t]=S[t],q[t](),h[t].css({marginLeft:"-"+J[t]+"%"})),X[t]=!1}),i(),c[t].trigger("cls-swipeRight").trigger("cls-left"))}).on("swipeleft",function(){X[t]===!1&&E[t]===!0&&(n(),X[t]=!0,h[t].animate({marginLeft:"-=100%"},x[t],function(){M[t]++,q[t](),M[t]>S[t]&&(M[t]=1,q[t](),h[t].css({marginLeft:"-"+Y[t]+"%"})),X[t]=!1}),i(),c[t].trigger("cls-swipeLeft").trigger("cls-right"))}),c[t].keydown(function(e){39==e.keyCode?(e.preventDefault(),X[t]===!1&&E[t]===!0&&(X[t]=!0,n(),h[t].animate({marginLeft:"-=100%"},x[t],function(){M[t]++,q[t](),M[t]>S[t]&&(M[t]=1,q[t](),h[t].css({marginLeft:"-"+Y[t]+"%"})),X[t]=!1}),i(),c[t].trigger("cls-keyRight").trigger("cls-right"))):37==e.keyCode?(e.preventDefault(),X[t]===!1&&E[t]===!0&&(X[t]=!0,n(),h[t].animate({marginLeft:"+=100%"},x[t],function(){M[t]--,q[t](),M[t]<1&&(M[t]=S[t],q[t](),h[t].css({marginLeft:"-"+J[t]+"%"})),X[t]=!1}),i(),c[t].trigger("cls-keyLeft").trigger("cls-left"))):32==e.keyCode&&(e.preventDefault(),b[t]===!0?(m[t].hide(),w[t].show(),b[t]=!1,c[t].trigger("cls-pause"),n()):b[t]===!1&&(m[t].show(),w[t].hide(),b[t]=!0,c[t].trigger("cls-play"),i()))}),b[t]===!0?w[t].hide():m[t].hide(),m[t].click(function(e){m[t].hide(),w[t].show(),w[t].focus(),b[t]=!1,c[t].trigger("cls-pause"),n()}),w[t].click(function(e){m[t].show(),m[t].focus(),w[t].hide(),b[t]=!0,c[t].trigger("cls-play"),i()}),q[t](),i()})});